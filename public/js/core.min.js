export const buildTargets={DEVEL:"Development",PROD:"Production"};export const app={version:"0.8.2021.06130455",target:buildTargets.DEVEL,routes:[{name:"child1",path:"child1.html",controller:"child1"},{name:"child2",path:"child2.html",controller:"child12"},{name:"index",path:"index.html",controller:"default"},{name:"default",path:"index.html",controller:"default"}],components:[{name:"navbar-component",path:"navbar/"},{name:"footer-component",path:"footer/"},{name:"theme-picker-component",path:"theme-picker/"}]};export const config={folder_models:"js/models/",suffix_models:"-model.min.js",view_model_object:"Model",folder_views:"views/controllers/",suffix_views:"-view-controller.min.js",folder_controllers:"js/controllers/",suffix_controllers:"-controller.min.js",view_controller_object:"ViewController",default_route:"default"};export function ready(e){"loading"!=document.readyState?e():document.addEventListener("DOMContentLoaded",e)}export function loadScript(url,callback){fetch(url).then((e=>e.text())).then((data=>{eval(data),void 0!==typeof callback&&eval(callback)})).catch((e=>{console.error(e)}))}export function initRoute(e){this.loadScript(e),this.initPageComponents()}export function initPageComponents(){let e=document.getElementsByClassName("component");null!==e&&Array.from(e).forEach((e=>{this.loadComponent(e.localName)}))}export function initComponent(e){this.loadScript(e)}export function loadModel(e,t){return this.loadScript(config.folder_models+e+config.suffix_models,t)}export function getRoute(){var e=window.location.href.toString(),t=app.routes.find((e=>e.name===config.default_route));return app.routes.forEach((o=>{-1!==e.indexOf(o.path)&&(t=o)})),t}export function getPageName(){var e=window.location.href.toString().split("/"),t=e[e.length-1];return-1!==t.indexOf("?")&&(t=t.split("?")[0]),t}export function getUrlParameter(e){var t=new URLSearchParams(window.location.search);return t.has(e)?t.get(e):null}export function getViewController(e){var t=e.split("-");return e=t[0],t.forEach(((t,o)=>{o>0&&(e+=t.charAt(0).toUpperCase()+t.slice(1).toLowerCase())})),e+=config.view_controller_object}export function getViewModel(e){var t=e.split("-");return e=t[0],t.forEach(((t,o)=>{o>0&&(e+=t.charAt(0).toUpperCase()+t.slice(1).toLowerCase())})),e+=config.view_model_object}export function loadComponent(e){var t=app.components.find((function(t){return t.name==e}));fetch("/views/"+t.path+e+".html").then((e=>e.text())).then((t=>{document.querySelector(e).innerHTML=t})).catch((e=>{console.error(e)})),this.loadScript(config.folder_views+t.path+e+config.suffix_views)}export function listen(e,t,o){let n=document.querySelector(e);null!==n&&n.addEventListener(t,o)}export function unlisten(e,t,o){let n=document.querySelector(e);null!==n&&n.removeEventListener(t,o)}"serviceWorker"in navigator?window.addEventListener("load",(()=>{console.info("registering service worker"),navigator.serviceWorker.register("/service-worker.min.js")})):-1!==window.location.toString().indexOf("http://")&&console.warning("SW error : site served under HTTP - SW requires HTTPS");